@inherits OrderEditBase

<SfCard>
    <EditForm class="control-section" Model="@this.OrderViewModel" OnValidSubmit="@this.EditClientDataAsync">
        <div class="row">
            <div class="col-sm">
                <CustomerInfo Item="@this.OrderViewModel.CustomerInfo" Enabled="@this.IsEditable" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm d-md-flex justify-content-md-end">
                <SfCheckBox Label="Editar" @bind-Checked="IsEditable"></SfCheckBox>
                <SfButton Type="submit" CssClass="e-success me-md-2" Disabled="!this.IsEditable">Actualizar</SfButton>
            </div>
        </div>
    </EditForm>
</SfCard>
<SfCard>
    <div class="row">
        <div class="col-sm">
            @foreach (var orderDetail in this.OrderViewModel.OrderDetail)
            {
                <OrderDetailItem OrderDetail="@orderDetail" IsEnabled=false />
            }
        </div>
    </div>
</SfCard>
<SfCard>
    <EditForm class="control-section" Model="@this.OrderViewModel" OnValidSubmit="@this.EditPaymentAsync">
        <div class="row">
            <div class="col-sm">
                <Condition Evaluation="@this.ShowOrderItems">
                    <Match>
                        <Payments OrderViewModel="@this.OrderViewModel" />
                    </Match>
                </Condition>
            </div>
        </div>
    </EditForm>
</SfCard>

<div class="col-lg-12 control-section">
    <SfToast ID="toast_order_edit" @ref="@this.ResultToast" Title="Result" Timeout="10000" Icon="e-meeting">
        <ToastPosition X="Center" />
        <ToastAnimationSettings>
            <ToastShowAnimationSettings Effect="ToastEffect.FadeZoomIn" />
            <ToastHideAnimationSettings Effect="ToastEffect.FadeZoomOut" />
        </ToastAnimationSettings>
    </SfToast>
</div>